(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"324b":function(t,e,r){"use strict";var n=r("61eb"),s=r.n(n);s.a},"34d3":function(t,e,r){},"39fd":function(t,e,r){"use strict";var n=r("4da3"),s=r.n(n);s.a},"40b2":function(t,e,r){"use strict";var n=r("c203"),s=r.n(n);s.a},"4da3":function(t,e,r){},5452:function(t,e,r){"use strict";var n=r("af35"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e623"),r("e379"),r("5dc8"),r("37e1");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"main"}},[r("Header"),r("div",{staticClass:"container"},[r("div",{staticClass:"spiner"},[t.loading?r("Spiner"):t._e()],1),r("div",{staticClass:"div"},[r("b-alert",{attrs:{show:!!t.getError,dismissible:"",variant:"warning"}},[t._v(t._s(t.getError)+" ")]),r("b-alert",{attrs:{show:!!t.getSuccess,dismissible:"",variant:"success"}},[t._v(t._s(t.getSuccess)+" ")])],1),r("router-view")],1)],1)},a=[],o=(r("96cf"),r("1da1")),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-icon-top navbar-expand-lg navbar-dark bg-dark"},[r("div",{staticClass:"container"},[r("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("EmptyGram")]),t._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[r("ul",{staticClass:"navbar-nav mr-auto"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[r("i",{staticClass:"fa fa-globe"}),t._v(" All Posts ")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/feed"}},[r("i",{staticClass:"fa fa-rss"}),t._v(" Feed ")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/admin"}},[r("i",{staticClass:"fa fa-rss"}),t._v(" Add post ")])],1)]),r("ul",{staticClass:"navbar-nav"},[t.islogin?[r("li",{staticClass:"nav-item dropdown"},[r("b-nav-item-dropdown",{attrs:{text:this.$store.getters.getUser.name,right:""}},[r("b-dropdown-item",{attrs:{to:"/user"}},[t._v("Account")]),r("b-dropdown-item",{on:{click:t.logout}},[t._v("logout")])],1)],1)]:t._e(),t.islogin?t._e():[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[r("i",{staticClass:"fa fa-sign-in"}),t._v(" Log In ")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/registration"}},[r("i",{staticClass:"fa fa-user-plus"}),t._v(" Register ")])],1)]],2)])])])},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}],u={computed:{getUser:function(){return this.$store.getters.getUser},getError:function(){return this.$store.getters.error},islogin:function(){return this.$store.getters.getUser}},methods:{logout:function(t){var e=this;this.$store.dispatch("logout").then((function(){e.$router.push("/")})).catch()}}},l=u,d=(r("5452"),r("2877")),p=Object(d["a"])(l,i,c,!1,null,null,null),m=p.exports,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1)},v=[],g={},h=Object(d["a"])(g,f,v,!1,null,null,null),b=h.exports,_={data:function(){return{drawer:!1,dismissSecs:10,dismissCountDown:0,showDismissibleAlert:!1}},components:{Header:m,Spiner:b},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}},computed:{getError:function(){return this.$store.getters.error},getSuccess:function(){return this.$store.getters.success},loading:function(){return this.$store.getters.loading}},beforeCreate:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},w=_,C=(r("5c0b"),Object(d["a"])(w,s,a,!1,null,null,null)),x=C.exports,y=r("2b27"),E=r.n(y),k=r("5f5b"),P=r("b1e0"),$=r("8c4f"),L=r("2f62"),O=(r("4de4"),r("7db0"),r("c740"),r("a434"),r("2909")),j=r("bc3a"),S=r.n(j),R=S.a.create({baseURL:"/",withCredentials:!0,headers:{"Content-Type":"application/json"}}),U=R,D={state:{posts:[],post:null,totalCount:0,activePage:1},actions:{fetchPosts:function(t,e){var r=t.commit;t.getters,t.dispatch;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,U.get("/posts",{params:e});case 5:n=t.sent,r("setLoading",!1),r("updatePosts",n),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](2),r("setLoading",!1),r("setError",t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},addPost:function(t,e){var r=t.commit;t.dispatch;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,U.post("/posts",e);case 5:n=t.sent,r("setLoading",!1),r("updatePosts",n),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](2),r("setLoading",!1),r("setError",t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},deletePost:function(t,e){var r=t.commit,n=(t.dispatch,t.getters);return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r("clearError"),r("setLoading",!0),s=n.getUser.email,a=n.onePostbyId(e).user.email,s!==a){t.next=23;break}return r("clearError"),r("setLoading",!0),t.prev=7,t.next=10,U.delete("/posts/".concat(e));case 10:o=t.sent,r("setLoading",!1),r("setSuccess",o.data.success),r("deletePost",e),t.next=21;break;case 16:throw t.prev=16,t.t0=t["catch"](7),r("setLoading",!1),r("setError",t.t0.response.data.error),t.t0;case 21:t.next=26;break;case 23:r("setError","это не ваш пост"),console.log(n.error),r("setLoading",!1);case 26:case"end":return t.stop()}}),t,null,[[7,16]])})))()},getPost:function(t,e){var r=t.commit,n=t.dispatch;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),console.log(e),t.prev=3,t.next=6,U.get("/posts/".concat(e));case 6:t.sent,r("setLoading",!1),n("fetchPosts"),t.next=16;break;case 11:throw t.prev=11,t.t0=t["catch"](3),r("setLoading",!1),r("setError",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[3,11]])})))()},addComment:function(t,e){var r=t.commit,n=(t.dispatch,e.id),s=e.comment;return Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),console.log(s,n),r("clearError"),r("setLoading",!0),t.prev=5,t.next=8,U.post("/posts/".concat(n,"/comments"),{comment:s});case 8:e=t.sent,r("setLoading",!1),r("addComment",{comment:e.data.comments,id:n}),t.next=18;break;case 13:throw t.prev=13,t.t0=t["catch"](5),r("setLoading",!1),r("setError",t.t0.response.data.error),t.t0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})))()}},mutations:{updatePosts:function(t,e){t.posts=e.data.posts,t.totalCount=+e.headers["x-total-count"]},createPost:function(t,e){t.posts.unshift(e)},deletePost:function(t,e){var r=t.posts.findIndex((function(t){return t._id===e}));t.posts.splice(r,1)},addComment:function(t,e){var r=e.id,n=e.comment,s=t.posts.find((function(t){return t._id===r}));s.comments=Object(O["a"])(n)}},getters:{validPosts:function(t){return t.posts.filter((function(t){return t.title&&t.body}))},allPosts:function(t){return t.posts},getComments:function(t){return function(e){return t.posts.find((function(t){return t._id===e})).comments}},onePostbyId:function(t){return function(e){return t.posts.find((function(t){return t._id===e}))}},totalCount:function(t,e){return t.totalCount}}},A={state:{user:null},actions:{getUserData:function(t){var e=t.commit;t.getters,t.dispatch;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("clearError"),e("setLoading",!0),t.prev=2,t.next=5,U.post("/user");case 5:r=t.sent,e("setLoading",!1),e("updateStatus",r.data.user),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](2),e("setLoading",!1),e("setError",t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},login:function(t,e){var r=t.commit;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,U.post("/login",e);case 5:n=t.sent,r("setLoading",!1),r("updateStatus",n.data.user),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](2),r("setLoading",!1),r("setError",t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},registration:function(t,e){var r=t.commit;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("clearError"),r("setLoading",!0),t.prev=2,t.next=5,U.post("/register",e);case 5:n=t.sent,r("updateStatus",n.data.user),r("setLoading",!1),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](2),r("setLoading",!1),r("setError",t.t0.response.data),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},logout:function(t){var e=t.commit;t.dispatch;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("clearError"),e("setLoading",!0),t.prev=2,t.next=5,U.get("/logout");case 5:e("updateStatus",null),e("updatePosts",[]),e("setLoading",!1),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](2),e("setLoading",!1),e("setError",t.t0.response.data),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()}},mutations:{updateStatus:function(t,e){t.user=e}},getters:{getUser:function(t){return t.user}}},T={state:{loading:!1,error:null,success:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setSuccess:function(t,e){t.success=e},clearSuccess:function(t){t.error=null},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},setSuccess:function(t,e){var r=t.commit;r("setSuccess",e)},clearError:function(t){var e=t.commit;e("clearError")},clearSuccess:function(t){var e=t.commit;e("clearSuccess")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error},success:function(t){return t.success}}};n["default"].use(L["a"]);var N=new L["a"].Store({actions:{},mutations:{},state:{},getters:{},modules:{post:D,auth:A,shared:T}}),M=function(t,e,r){return q.apply(this,arguments)};function q(){return q=Object(o["a"])(regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N.dispatch("getUserData");case 2:t.sent,N.getters.getUser?n():n("/login?loginError=true");case 4:case"end":return t.stop()}}),t)}))),q.apply(this,arguments)}var F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[t._v("Посты")]),r("Posts")],1)},H=[],I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"posts"},[t._l(t.allPosts,(function(e,n){return r("div",{key:e._id,staticClass:"post"},[r("div",{staticClass:"flex"},[r("span",[t._v("Aвтор: ")]),r("h5",[t._v(t._s(e.user.name))])]),r("button",{staticClass:"close post__delete",attrs:{type:"button","aria-label":"Close"},on:{click:function(r){return t.deletePost(e._id)}}},[t._v("× ")]),r("h2",[t._v(t._s(e.title))]),r("p",{staticClass:"post__desc",domProps:{innerHTML:t._s(t.$options.filters.transformHtml(e.content))}}),r("router-link",{attrs:{to:"/post/"+e._id,tag:"div"}},[r("b-button",{attrs:{variant:"success"}},[t._v("Перейти на страницу поста")])],1)],1)})),r("paginate",{attrs:{"page-count":t.page,"page-range":3,"margin-pages":2,"click-handler":t.onPageChange,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item"}})],2)},B=[],J=r("8832"),K=r.n(J),V=3,G={data:function(){return{activePage:1}},components:{Paginate:K.a},filters:{transformHtml:function(t){for(var e="",r=0;r<100;r++)t[r]&&(e+=t[r]);return e[e.length-1],e+"..."}},computed:{allPosts:function(){return this.$store.getters.allPosts},page:function(){return Math.floor(this.$store.getters.totalCount/V+1)}},methods:{onPageChange:function(t){this.$store.dispatch("fetchPosts",{skip:(t-1)*V,limit:V})},deletePost:function(t){this.$store.dispatch("deletePost",t)}},created:function(){this.$store.dispatch("fetchPosts",{skip:0,limit:V})}},Q=G,W=(r("f12a"),Object(d["a"])(Q,I,B,!1,null,null,null)),z=W.exports,X={data:function(){return{}},components:{Posts:z}},Y=X,Z=(r("f152"),Object(d["a"])(Y,F,H,!1,null,"5dc5bdfb",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-jumbotron",{attrs:{header:t.getUser.name}},[r("p",[t._v("Email: "+t._s(t.getUser.email))]),r("img",{staticClass:"avatar",attrs:{src:"http://127.0.0.1:3000/"+t.getUser.avatar}}),r("br"),r("br"),r("b-button",{attrs:{variant:"primary",href:"#"}},[t._v("More Info")])],1),r("p",[t._v("Загрузить аватарку")]),r("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("input",{attrs:{type:"file"},on:{change:function(e){return t.processFile(e)}}}),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)},rt=[],nt={headers:{"Content-Type":"multipart/form-data;boundary=----WebKitFormBoundaryyrV7KO0BoCBuDbTL"}},st={data:function(){return{user:"",file:null}},computed:{getUser:function(){return this.$store.getters.getUser}},methods:{processFile:function(){this.file=event.target.files[0]},onSubmit:function(){var t=new FormData;t.append("file",this.file),console.log(this.file),this.file&&U.post("/avatar",t,nt).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}}},at=st,ot=(r("40b2"),Object(d["a"])(at,et,rt,!1,null,null,null)),it=ot.exports,ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container",on:{click:t.clearFields}},[r("h2",[t._v("Login")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("p",{staticClass:"error-my",attrs:{"v-model":t.errors.error}},[t._v(t._s(t.errors.error))]),r("p",{staticClass:"error-my",attrs:{"v-model":t.errors.email}},[t._v(t._s(t.errors.email))]),r("p",[t._v("E-mail")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",name:"email"},domProps:{value:t.form.email},on:{blur:function(e){return t.$v.form.email.$touch()},input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),r("p",{staticClass:"error-my",attrs:{"v-model":t.errors.password}},[t._v(t._s(t.errors.password))]),r("p",[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",name:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),r("button",{attrs:{type:"submit",disabled:t.$v.$invalid||t.loading}},[t._v("submit")])])])},ut=[],lt=r("b5ae"),dt={data:function(){return{form:{password:"",email:""},errors:{password:"",email:"",error:""}}},validations:{form:{email:{required:lt["required"],email:lt["email"],uniqEmail:function(t){return!0}}}},methods:{login:function(){var t=this,e={email:this.form.email,password:this.form.password};this.$store.dispatch("login",e).then((function(){return t.$router.push("/")})).catch((function(){}))},clearFields:function(){this.errors.password="",this.errors.email="",this.errors.error=""}},mounted:function(){},computed:{loading:function(){return this.$store.getters.loading}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page ...")}},pt=dt,mt=(r("c5d2"),Object(d["a"])(pt,ct,ut,!1,null,"64df6ebb",null)),ft=mt.exports,vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h1",[t._v("Добавить пост")]),r("AddPosts")],1)},gt=[],ht=(r("fb6a"),r("d3b7"),r("25f0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"data-1r12r"},[r("label",{staticClass:"wrapper-post"},[r("h2",{staticClass:"title-post"},[t._v("Заголовок поста:")]),r("b-form-input",{attrs:{type:"text",name:"title",placeholder:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),r("br"),r("h2",[t._v("Тело поста:")]),r("vue-editor",{staticClass:"editor",attrs:{theme:"show"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),r("b-button",{attrs:{variant:"dark"},on:{click:t.createPosts}},[t._v("submit")])],1)}),bt=[],_t=r("953d"),wt=r("5873"),Ct={data:function(){return{content:"<p>example content</p>",title:""}},components:{quillEditor:_t["quillEditor"],VueEditor:wt["a"]},methods:{createPosts:function(){var t=this,e={title:this.title,content:this.content};this.$store.dispatch("addPost",e).then((function(){t.title="",t.content=""}))}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},mounted:function(){}},xt=Ct,yt=(r("a342"),Object(d["a"])(xt,ht,bt,!1,null,null,null)),Et=yt.exports,kt={name:"Login",data:function(){return{name:""}},components:{AddPosts:Et},methods:{},created:function(){},filters:{upperCase:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}}},Pt=kt,$t=Object(d["a"])(Pt,vt,gt,!1,null,null,null),Lt=$t.exports,Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h2",[t._v("Registration")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.registration(e)}}},[r("p",{attrs:{"v-model":t.error}},[t._v(t._s(t.error))]),r("p",[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),r("p",[t._v("E-mail")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("p",[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("p",[t._v("Secret key")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.secretkey,expression:"secretkey"}],attrs:{type:"text",name:"secretkey"},domProps:{value:t.secretkey},on:{input:function(e){e.target.composing||(t.secretkey=e.target.value)}}}),r("button",{attrs:{loading:t.loading,disabled:t.loading,type:"submit"}},[t._v("submit")])])])},jt=[],St=(r("b0c0"),{data:function(){return{error:"",password:"",email:"",name:"",secretkey:""}},computed:{loading:function(){return this.$store.getters.loading}},methods:{registration:function(){var t=this,e={email:this.email,password:this.password,name:this.name,secretkey:this.secretkey};this.$store.dispatch("registration",e).then((function(){t.$router.push("/")})).catch((function(){}))}}}),Rt=St,Ut=(r("324b"),Object(d["a"])(Rt,Ot,jt,!1,null,"b8b3edda",null)),Dt=Ut.exports,At=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"onepost"},[r("div",{staticClass:"flex"},[r("span",[t._v("Aвтор: ")]),r("h5",[t._v(t._s(t.post.user.name))])]),r("h2",{staticClass:"onepost__title"},[t._v(t._s(t.post.title))]),r("div",{staticClass:"onepost__body",domProps:{innerHTML:t._s(t.post.content)}})]),r("p",[t._v("Коментарии:")]),r("div",{staticClass:"comments-wrapper"},t._l(t.getComments,(function(e,n){return r("div",{key:e._id,staticClass:"comments onepost"},[r("div",{staticClass:"comments__wrap"},[r("img",{staticClass:"comments__img",attrs:{src:"http://127.0.0.1:3000"+e.user.avatar,alt:""}}),r("h5",[t._v("Автор: "+t._s(e.user.name))])]),r("div",{staticClass:"comments__body onepost"},[r("p",[t._v(t._s(e.body))]),r("time",[t._v("Создан: "+t._s(e.createdDate))])])])})),0),r("div",{staticClass:"card-footer"},[r("p",[t._v("Оставить коментарий")]),r("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{type:"text"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),r("button",{attrs:{type:"submit"}},[t._v("submit")])])])])},Tt=[],Nt={props:["id"],data:function(){return{comment:""}},computed:{post:function(){var t=this.id;return this.$store.getters.onePostbyId(t)},getComments:function(){return this.$store.getters.getComments(this.id)}},methods:{addComment:function(t){console.log(this.comment),this.$store.dispatch("addComment",{comment:this.comment,id:this.id})}}},Mt=Nt,qt=(r("39fd"),Object(d["a"])(Mt,At,Tt,!1,null,null,null)),Ft=qt.exports,Ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"})},It=[],Bt={data:function(){return{}}},Jt=Bt,Kt=Object(d["a"])(Jt,Ht,It,!1,null,null,null),Vt=Kt.exports;n["default"].use($["a"]);var Gt=new $["a"]({routes:[{path:"/",name:"home",component:tt,beforeEnter:M},{path:"/post/:id",name:"post",component:Ft,props:!0,beforeEnter:M},{path:"/login",name:"Login",component:ft},{path:"/registration",name:"Registration",component:Dt},{path:"/orders",name:"Orders",component:Vt},{path:"/admin",name:"Admin",component:Lt,beforeEnter:M},{path:"/user",name:"User",component:it,beforeEnter:M}],mode:"history"}),Qt=Gt,Wt=r("1dce"),zt=r.n(Wt),Xt=(r("21b6"),r("2dd8"),r("a753"),r("8096"),r("14e1"),r("944d")),Yt=r.n(Xt);n["default"].use(k["a"]),n["default"].use(P["a"]),n["default"].config.productionTip=!1,n["default"].use(E.a),n["default"].use(zt.a),new n["default"]({store:N,router:Qt,style:Yt.a,render:function(t){return t(x)}}).$mount("#app")},"59b0":function(t,e,r){},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),s=r.n(n);s.a},"61eb":function(t,e,r){},"944d":function(t,e,r){},"9c0c":function(t,e,r){},a342:function(t,e,r){"use strict";var n=r("34d3"),s=r.n(n);s.a},af35:function(t,e,r){},bc1f:function(t,e,r){},c203:function(t,e,r){},c5d2:function(t,e,r){"use strict";var n=r("bc1f"),s=r.n(n);s.a},e4e9:function(t,e,r){},f12a:function(t,e,r){"use strict";var n=r("59b0"),s=r.n(n);s.a},f152:function(t,e,r){"use strict";var n=r("e4e9"),s=r.n(n);s.a}});
//# sourceMappingURL=app.1361de8c.js.map